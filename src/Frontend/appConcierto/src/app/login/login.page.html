<ion-header>
  <ion-toolbar>
    <ion-title class="titulo-centrado">Conciertos</ion-title>

    <ion-toggle [checked]="modoOscuroActivado" (ionChange)="darkPaletteToggleChange($event)" slot="end">
      Modo Oscuro
    </ion-toggle>

  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
  <div class="container">

    <ion-card>
      <ion-card-header class="titulo-personalizado-iniciarSesion">Iniciar Sesión</ion-card-header>
      <ion-card-content>
        <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
          <ion-item>
            <ion-icon name="person" slot="start"></ion-icon>
            <ion-label position="floating">Correo</ion-label>
            <ion-input type="text" formControlName="correoElectronico" required></ion-input>
          </ion-item>
          <div class="error-message"
            *ngIf="loginForm.controls['correoElectronico'].invalid && loginForm.controls['correoElectronico'].touched">
            <ion-text color="danger">
              <p>El formato del correo es invalido.</p>
            </ion-text>
          </div>

          <ion-item class="ion-margin-top">
            <ion-icon name="lock-closed" slot="start"></ion-icon>
            <ion-label position="floating">Contraseña</ion-label>
            <ion-input type="password" formControlName="contrasena" required>
              <ion-input-password-toggle slot="end"></ion-input-password-toggle></ion-input>
          </ion-item>

          <div class="error-message"
            *ngIf="loginForm.controls['contrasena'].invalid && loginForm.controls['contrasena'].touched">
            <ion-text color="danger">
              <p>Rellene el campo.</p>
            </ion-text>
          </div>

          <ion-button shape="round" expand="full" type="submit" [disabled]="!loginForm.valid"
            class="ion-margin-top button-34">
            Iniciar Sesión
          </ion-button>
        </form>

        <ion-button fill="clear" size="small" routerLink="/recuperacion-contrasena" class="ion-text-center ion-margin-top">
          Olvide mi contraseña
        </ion-button>

        <ion-button fill="clear" size="small" routerLink="/crear-usuario" class="ion-text-center ion-margin-top">
          ¿No tienes una cuenta? Regístrate aquí
        </ion-button>
      </ion-card-content>
    </ion-card>
  </div>
</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-title class="ion-text-center">© 2025. Todos los derechos reservados</ion-title>
  </ion-toolbar>
</ion-footer>